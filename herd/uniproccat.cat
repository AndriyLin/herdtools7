"Uniproc, no co generated"

(* Utilities *)
let invrf = rf^-1
let WW(r) = r & (W * W)
let RW(r) = r & (R * W)

(* Collect constraints on U order *)

let rec U =
  po-loc
| rf
| co0                (* co from init writes and to final writes *)
| WW(Uloc;invrf)\id  (* WR observation of co *)
| RW(invrf;Uloc)\id  (* RW observation of co *)
| U;U

and Uloc = U & loc

let co = WW(Uloc)
and fr = RW(Uloc)
show fr,co

(* a few additional shows *)
include "fences.cat"

irreflexive U as sc-per-location

